<div class="star-menu">
	<div class="star-menu-fixed">
		<div class="star-menu-rotating" style="transform: rotate(@(_angle)deg);">
			@for (int i = 0; i < MenuItems.Count; i++)
			{
				<div class="menu-item @i @(i == _selectedIndex ? "selected" : "")" style="transform: rotate(@(-i * 45)deg) translateX(220px) rotate(@(i * 45)deg)">
					<div style="transform: rotate(@(-_angle)deg) @(i == _selectedIndex ? "scale(2)" : "");" class="icon">
						<i class="bi @MenuItems[i]"></i>
					</div>
				</div>
			}
		</div>
	</div>
</div>

@code {
	[Parameter]
	public List<string> MenuItems { get; set; }

	public int SetSelectedIndex(int targetIndex)
	{
		if (targetIndex < 0)
			targetIndex = 0;
		else if (targetIndex >= MenuItems.Count)
			targetIndex = MenuItems.Count - 1;
		var distance = targetIndex - _selectedIndex;
		_angleIncrementer += distance;
		_selectedIndex = targetIndex;
		return targetIndex;
	}

	private int _selectedIndex = 0;
	private int _angleIncrementer = 0;
	private int _angle => _angleIncrementer * 45;
}
